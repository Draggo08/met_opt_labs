# Лабораторная работа №2: Метод ломаных

Программа для поиска глобального минимума липшицевой функции на отрезке методом ломаных (методом Пана).

## Структура проекта

- `broken_line.py` - реализация метода ломаных
- `function_parser.py` - парсер для функций
- `visualization.py` - модуль визуализации
- `test_functions.py` - тестовые функции (Растригина, Экли и др.)
- `main.py` - главный файл для командной строки
- `solve_task2.py` - скрипт для демонстрации
- `ОТЧЕТ.md` - отчет по лабораторной работе

## Требования

- Python 3.7+
- numpy
- matplotlib

Установка зависимостей:
```bash
pip install numpy matplotlib
```

## Использование

### 1. Через командную строку

```bash
python main.py "<функция>" <a> <b> <eps> [--lipschitz L] [--output путь]
```

Примеры:
```bash
# Простая функция
python main.py "x + sin(3.14159*x)" 0 10 0.01

# С указанием константы Липшица
python main.py "x^2 - 10*cos(2*pi*x) + 10" -5 5 0.01 --lipschitz 63

# С сохранением графика
python main.py "x + sin(3.14159*x)" 0 10 0.01 --output result.png
```

### 2. Демонстрация на тестовых примерах

```bash
python solve_task2.py
```

Этот скрипт запустит решение для трех тестовых функций:
- Функция Растригина
- Функция Экли
- Функция x + sin(3.14159*x)

## Формат входных данных

- **Функция**: строка с математическим выражением, поддерживаются:
  - Базовые операции: +, -, *, /, **
  - Тригонометрические: sin, cos, tan, asin, acos, atan
  - Экспонента и логарифмы: exp, log, log10, log2
  - Константы: pi, e
  - Переменная: x

- **a, b**: границы отрезка (a < b)

- **eps**: требуемая точность (положительное число)

- **--lipschitz**: опциональная константа Липшица (если не указана, будет оценена автоматически)

## Формат выходных данных

Программа выводит:
- Приближенное значение аргумента минимума x*
- Приближенное значение минимума f(x*)
- Число итераций
- Затраченное время
- Количество вычисленных точек
- Оценку погрешности

Также создается график с визуализацией:
- Исходной функции
- Ломаной функции (нижней оценки)
- Вычисленных точек
- Найденного минимума

## Примеры функций

Поддерживаются различные функции, например:
- `x + sin(3.14159*x)`
- `x^2 - 10*cos(2*pi*x) + 10` (Растригина)
- `-20*exp(-0.2*sqrt(0.5*x^2)) - exp(0.5*cos(2*pi*x)) + e + 20` (Экли)
- `(x-2)^2 * sin(5*x) + 0.1*x^2`
- `x^4 - 10*x^2 + 9*x + 5*sin(3*x)`

## Примечания

- Функция должна быть липшицевой на заданном отрезке
- Константа Липшица оценивается автоматически, но может быть задана вручную для улучшения точности
- Метод гарантирует нахождение глобального минимума с заданной точностью

